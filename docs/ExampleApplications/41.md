---
prev:
  text: '40. åˆ›å»ºä¸€ä¸ªLinuxè½¯ä»¶åŒ…'
  link: '/PackagingAndDistribution/40'
next:
  text: '42. Moonsweeper'
  link: '/ExampleApplications/42'
---

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨åº”è¯¥å·²ç»æŒæ¡äº†å¦‚ä½•ä½¿ç”¨PyQt6æ„å»ºç®€å•åº”ç”¨ç¨‹åºçš„æ–¹æ³•ã€‚ä¸ºäº†å±•ç¤ºå¦‚ä½•å°†æ‰€å­¦çŸ¥è¯†ä»˜è¯¸å®è·µï¼Œæœ¬ç« ä¸­åŒ…å«äº†å‡ ä¸ªç¤ºä¾‹åº”ç”¨ç¨‹åºã€‚è¿™äº›åº”ç”¨ç¨‹åºåŠŸèƒ½é½å…¨ã€ç®€å•æ˜“ç”¨ï¼Œä½†åœ¨æŸäº›æ–¹é¢å¯èƒ½ä¸å¤Ÿå®Œå–„ã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬ä½œä¸ºçµæ„Ÿæ¥æºï¼Œè¿›è¡Œæ‹†è§£åˆ†æï¼Œå¹¶å€Ÿæ­¤æœºä¼šè¿›è¡Œæ”¹è¿›ã€‚è¯·æ‚¨ç»§ç»­é˜…è¯»ï¼Œæˆ‘ä»¬å°†å¯¹æ¯ä¸ªåº”ç”¨ç¨‹åºçš„ç²¾å½©éƒ¨åˆ†è¿›è¡Œè¯¦ç»†è®²è§£ã€‚

è¿™ä¸¤ä¸ªåº”ç”¨ç¨‹åºçš„å®Œæ•´æºä»£ç å‡å¯ä¸‹è½½ï¼Œæ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨æˆ‘çš„GitHubä¸Šçš„ [15åˆ†é’Ÿåº”ç”¨ç¨‹åº](https://github.com/pythonguis/15-minute-apps) ä»“åº“ä¸­æ‰¾åˆ°å¦å¤–13ä¸ªåº”ç”¨ç¨‹åºã€‚ç¥æ‚¨ç©å¾—æ„‰å¿«ï¼

æœ¬ä¹¦ä¸­è¿˜æœ‰å…¶ä»–ä¸€äº›å¾®å‹åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹â€”â€”ä¾‹å¦‚ç»˜å›¾å’Œå¾…åŠäº‹é¡¹åº”ç”¨ç¨‹åºâ€”â€”æˆ‘é¼“åŠ±æ‚¨ä¹Ÿè¦æ‰©å±•è¿™äº›åº”ç”¨ç¨‹åºï¼Œè¿™æ˜¯å­¦ä¹ çš„æœ€ä½³æ–¹å¼ã€‚

## 41. Mozzarella Ashbadger

Mozzarella Ashbadger æ˜¯ç½‘é¡µæµè§ˆé¢†åŸŸçš„æœ€æ–°é©å‘½ï¼è¿”å›å’Œå‰è¿›ï¼æ‰“å°ï¼ä¿å­˜æ–‡ä»¶ï¼è·å–å¸®åŠ©ï¼ï¼ˆæ‚¨å¯èƒ½ä¼šéœ€è¦å®ƒï¼‰ã€‚ä¸å…¶ä»–æµè§ˆå™¨çš„ä»»ä½•ç›¸ä¼¼ä¹‹å¤„çº¯å±å·§åˆã€‚

![Figure269](Figure269.png)

> å›¾269ï¼šMozzarella Ashbadger

![tips](tips.png)

> æ­¤åº”ç”¨ç¨‹åºåˆ©ç”¨äº†ä¿¡å·ä¸æ§½ã€æ‰©å±•ä¿¡å·å’Œæ§ä»¶ä¸­ä»‹ç»çš„åŠŸèƒ½ã€‚

Mozzarella Ashbadger çš„æºä»£ç æœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€ç§å¸¦æœ‰æ ‡ç­¾å¼æµè§ˆï¼Œå¦ä¸€ç§æ²¡æœ‰ã€‚æ·»åŠ æ ‡ç­¾ä¼šç¨å¾®å¢åŠ ä¿¡å·å¤„ç†çš„å¤æ‚æ€§ï¼Œå› æ­¤æˆ‘ä»¬é¦–å…ˆä»‹ç»æ²¡æœ‰æ ‡ç­¾çš„ç‰ˆæœ¬ã€‚

è¦åˆ›å»ºæµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªé¢å¤–çš„ PyQt6 ç»„ä»¶ â€” PyQtWebEngineã€‚æ‚¨å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ `pip` è¿›è¡Œå®‰è£…ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

```bash
pip3 install pyqt6-webengine
```

## æºä»£ç 

æ— æ ‡ç­¾æµè§ˆå™¨çš„å®Œæ•´æºä»£ç åŒ…å«åœ¨æœ¬ä¹¦çš„ä¸‹è½½å†…å®¹ä¸­ã€‚æµè§ˆå™¨ä»£ç çš„æ–‡ä»¶åä¸º `browser.py` ã€‚

```bash
python3 browser.py
```

> ğŸš€ **è¿è¡Œå®ƒå§ï¼** åœ¨å¼€å§‹ç¼–å†™ä»£ç ä¹‹å‰ï¼Œè¯·å…ˆæ¢ç´¢ Mozzarella Ashbadger çš„ç•Œé¢å’ŒåŠŸèƒ½ã€‚

## æµè§ˆå™¨æ§ä»¶

æµè§ˆå™¨çš„æ ¸å¿ƒæ˜¯ `QWebEngineView`ï¼Œæˆ‘ä»¬ä» `QtWebEngineWidgets` å¯¼å…¥å®ƒã€‚å®ƒæä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æµè§ˆå™¨çª—å£ï¼Œè¯¥çª—å£è´Ÿè´£æ»‘å—ä¸‹è½½é¡µé¢çš„æ¸²æŸ“ã€‚ä»¥ä¸‹æ˜¯ PyQt6 ä¸­ä½¿ç”¨ç½‘é¡µæµè§ˆå™¨æ§ä»¶æ‰€éœ€çš„æœ€ä½é™åº¦ä»£ç ã€‚

*Listing 264. app/browser_skeleton.py*

```python
import sys

from PyQt6.QtCore import QUrl
from PyQt6.QtWebEngineWidgets import QWebEngineView
from PyQt6.QtWidgets import QApplication, QMainWindow


class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        
        self.browser = QWebEngineView()
        self.browser.setUrl(QUrl("https://www.google.com"))
        
        self.setCentralWidget(self.browser)
        
        self.show()
        
        
app = QApplication(sys.argv)
window = MainWindow()

app.exec()
```

å¦‚æœæ‚¨ç¨å¾®ç‚¹å‡»ä¸€ä¸‹ï¼Œæ‚¨ä¼šå‘ç°æµè§ˆå™¨è¡¨ç°å¾—åƒé¢„æœŸçš„ä¸€æ ·â€”â€”é“¾æ¥æ­£å¸¸å·¥ä½œï¼Œæ‚¨å¯ä»¥ä¸é¡µé¢äº’åŠ¨ã€‚ç„¶è€Œï¼Œæ‚¨ä¹Ÿä¼šæ³¨æ„åˆ°ä¸€äº›ä½ ä¹ ä»¥ä¸ºå¸¸çš„ä¸œè¥¿ç¼ºå¤±äº†â€”â€”æ¯”å¦‚åœ°å€æ ã€æ§åˆ¶æŒ‰é’®æˆ–ä»»ä½•ç±»å‹çš„ç•Œé¢ã€‚è¿™ä½¿å¾—ä½¿ç”¨èµ·æ¥æœ‰ç‚¹æ£˜æ‰‹ã€‚

è®©æˆ‘ä»¬æŠŠè¿™ä¸ªç®€é™‹çš„æµè§ˆå™¨æ”¹é€ æˆä¸€ä¸ªç¨å¾®å®ç”¨ä¸€ç‚¹çš„å·¥å…·å§ï¼

## è·¯å¾„

ä¸ºäº†æ›´æ–¹ä¾¿åœ°å¤„ç†ç•Œé¢å›¾æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥é¦–å…ˆå®šä¹‰ä¸€ä¸ªâ€œä½¿ç”¨ç›¸å¯¹è·¯å¾„â€ï¼ˆå‚è§å‰é¢çš„ç« èŠ‚ï¼‰ã€‚å®ƒä¸º `icons` æ•°æ®æ–‡ä»¶å’Œä¸€ä¸ª `icon` æ–¹æ³•å®šä¹‰äº†ä¸€ä¸ªå•ä¸€çš„æ–‡ä»¶å¤¹ä½ç½®ï¼Œç”¨äºåˆ›å»ºå›¾æ ‡çš„è·¯å¾„ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ `Paths.icon()` æ¥åŠ è½½æµè§ˆå™¨ç•Œé¢çš„å›¾æ ‡ã€‚

*Listing 265. app/paths.py*

```python
import os


class Paths:
    
    base = os.path.dirname(__file__)
    icons = os.path.join(base, "icons")
    
    # æ–‡ä»¶åŠ è½½å™¨.
    @classmethod
    def icon(cls, filename):
        return os.path.join(cls.icons, filename)
```

è¯·æ‚¨å°†å®ƒä¸æˆ‘ä»¬çš„æµè§ˆå™¨ä¿å­˜åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸­ï¼Œå®ƒå¯ä»¥å¯¼å…¥ä¸ºï¼š

*Listing 266. app/browser.py*

```python
from paths import Paths
```

## å¯¼èˆª

ç°åœ¨è¿™äº›éƒ½å·²å°±ç»ªï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€äº›ç•Œé¢æ§ä»¶ï¼Œä¾‹å¦‚åœ¨ `QToolbar` ä¸Šä½¿ç”¨ä¸€ç³»åˆ—çš„ `QActions` ã€‚æˆ‘ä»¬å°†è¿™äº›å®šä¹‰æ·»åŠ åˆ° `QMainWindow` çš„ `__init__` å—ä¸­ã€‚æˆ‘ä»¬ä½¿ç”¨æˆ‘ä»¬çš„ `Paths.icon()` æ–¹æ³•ä½¿ç”¨ç›¸å¯¹è·¯å¾„åŠ è½½æ–‡ä»¶ã€‚

*Listing 267. app/browser.py*

```python
        navtb = QToolBar("Navigation")
        navtb.setIconSize(QSize(16, 16))
        self.addToolBar(navtb)
        
        back_btn = QAction(
            QIcon(Paths.icon("arrow-180.png")), "Back", self
        )
        back_btn.setStatusTip("Back to previous page")
        back_btn.triggered.connect(self.browser.back)
        navtb.addAction(back_btn)
```

`QWebEngineView` åŒ…æ‹¬ç”¨äºå‰è¿›ã€åé€€å’Œé‡æ–°åŠ è½½å¯¼èˆªçš„æ§½ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç›´æ¥è¿æ¥åˆ°æˆ‘ä»¬çš„åŠ¨ä½œçš„ `.triggered` ä¿¡å·ã€‚

æˆ‘ä»¬ä¸ºå‰©ä½™çš„æ§ä»¶ä½¿ç”¨ç›¸åŒçš„ `QAction` ç»“æ„ã€‚

*Listing 268. app/browser.py*

```python
        next_btn = QAction(
            QIcon(Paths.icon("arrow-000.png")), "Forward", self
        )
        next_btn.setStatusTip("Forward to next page")
        next_btn.triggered.connect(self.browser.forward)
        navtb.addAction(next_btn)
        
        reload_btn = QAction(
            QIcon(Paths.icon("arrow-circle-315.png")),
            "Reload",
            self,
        )
        reload_btn.setStatusTip("Reload page")
        reload_btn.triggered.connect(self.browser.reload)
        navtb.addAction(reload_btn)
        
        home_btn = QAction(QIcon(Paths.icon("home.png")), "Home", self)
        home_btn.setStatusTip("Go home")
        home_btn.triggered.connect(self.navigate_home)
        navtb.addAction(home_btn)
```

è¯·æ³¨æ„ï¼Œè™½ç„¶å‰è¿›ã€åé€€å’Œé‡æ–°åŠ è½½å¯ä»¥ä½¿ç”¨å†…ç½®æ§½ï¼Œä½†å¯¼èˆªä¸»é¡µæŒ‰é’®éœ€è¦è‡ªå®šä¹‰æ§½å‡½æ•°ã€‚è¯¥æ§½å‡½æ•°åœ¨æˆ‘ä»¬çš„ `QMainWindow` ç±»ä¸­å®šä¹‰ï¼Œåªéœ€å°†æµè§ˆå™¨çš„URLè®¾ç½®ä¸ºè°·æ­Œä¸»é¡µå³å¯ã€‚è¯·æ³¨æ„ï¼ŒURLå¿…é¡»ä½œä¸º `QUrl` å¯¹è±¡ä¼ é€’ã€‚

*Listing 269. app/browser.py*

```python
    def navigate_home(self):
        self.browser.setUrl(QUrl("http://www.google.com"))
```

![tips](tips.png)

> æŒ‘æˆ˜
>
> å°è¯•å°†ä¸»é¡µå¯¼èˆªä½ç½®è®¾ç½®ä¸ºå¯é…ç½®ã€‚æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸¦è¾“å…¥å­—æ®µçš„ `QDialog` å¯¹è¯æ¡†ã€‚

ä»»ä½•ä¸€æ¬¾åˆæ ¼çš„ç½‘é¡µæµè§ˆå™¨éƒ½å¿…é¡»å…·å¤‡åœ°å€æ ï¼Œå¹¶ä¸”éœ€è¦æä¾›ä¸€ç§æ–¹å¼æ¥åœæ­¢å¯¼èˆªâ€”â€”æ— è®ºæ˜¯ç”±äºè¯¯æ“ä½œï¼Œè¿˜æ˜¯é¡µé¢åŠ è½½è¿‡æ…¢ã€‚

*Listing 270. app/browser.py*

```python
        self.httpsicon = QLabel() # æ˜¯çš„ï¼Œå°±åƒè¿™æ ·!
        self.httpsicon.setPixmap(QPixmap(Paths.icon("lock-nossl.png")))
        navtb.addWidget(self.httpsicon)
        
        self.urlbar = QLineEdit()
        self.urlbar.returnPressed.connect(self.navigate_to_url)
        navtb.addWidget(self.urlbar)
        
        stop_btn = QAction(
            QIcon(Paths.icon("cross-circle.png")), "Stop", self
        )
        stop_btn.setStatusTip("Stop loading current page")
        stop_btn.triggered.connect(self.browser.stop)
        navtb.addAction(stop_btn)
```

ä¸ä¹‹å‰ä¸€æ ·ï¼Œ`QWebEngineView` ä¸Šæä¾›äº†â€œåœæ­¢â€åŠŸèƒ½ï¼Œæˆ‘ä»¬åªéœ€å°†åœæ­¢æŒ‰é’®çš„ `.triggered` ä¿¡å·è¿æ¥åˆ°ç°æœ‰çš„æ§½å³å¯ã€‚ä½†æ˜¯ï¼ŒURL æ çš„å…¶ä»–åŠŸèƒ½å¿…é¡»å•ç‹¬å¤„ç†ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª `QLabel` æ¥ä¿å­˜æˆ‘ä»¬çš„ SSL æˆ–é SSL å›¾æ ‡ï¼Œä»¥æŒ‡ç¤ºé¡µé¢æ˜¯å¦å®‰å…¨ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª URL æ ï¼Œå®ƒåªæ˜¯ä¸€ä¸ª `QLineEdit`ã€‚ä¸ºäº†è§¦å‘åœ¨è¾“å…¥ï¼ˆæŒ‰å›è½¦é”®ï¼‰æ—¶åœ¨æ ä¸­åŠ è½½ URLï¼Œæˆ‘ä»¬è¿æ¥åˆ°æ§ä»¶ä¸Šçš„ `.returnPressed` ä¿¡å·ï¼Œä»¥é©±åŠ¨ä¸€ä¸ªè‡ªå®šä¹‰æ§½å‡½æ•°ï¼Œè§¦å‘å¯¼èˆªåˆ°æŒ‡å®šçš„ URLã€‚

*Listing 271. app/browser.py*

```python
    def navigate_to_url(self): # æœªæ¥æ”¶ URL
        q = QUrl(self.urlbar.text())
        if q.scheme() == "":
            q.setScheme("http")
            
        self.browser.setUrl(q)
```

æˆ‘ä»¬è¿˜å¸Œæœ› URL æ¡èƒ½å¤Ÿæ ¹æ®é¡µé¢å˜åŒ–è¿›è¡Œæ›´æ–°ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `QWebEngineView` çš„ `.urlChanged` å’Œ `.loadFinished` ä¿¡å·ã€‚æˆ‘ä»¬åœ¨ `__init__` å—ä¸­æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è®¾ç½®äº†ä¿¡å·çš„è¿æ¥ï¼š

*Listing 272. app/browser.py*

```python
        self.browser.urlChanged.connect(self.update_urlbar)
        self.browser.loadFinished.connect(self.update_title)
```

ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰è¿™äº›ä¿¡å·çš„ç›®æ ‡æ§½å‡½æ•°ã€‚ç¬¬ä¸€ä¸ªå‡½æ•°ç”¨äºæ›´æ–° URL æ ï¼Œå®ƒæ¥å—ä¸€ä¸ª `QUrl` å¯¹è±¡ï¼Œå¹¶ç¡®å®šè¿™æ˜¯ `http` è¿˜æ˜¯ `https` URLï¼Œç„¶åä½¿ç”¨æ­¤ä¿¡æ¯è®¾ç½® SSL å›¾æ ‡ã€‚

![caution](caution.png)

> è¿™æ˜¯ä¸€ç§éå¸¸ç³Ÿç³•çš„æµ‹è¯•è¿æ¥æ˜¯å¦â€œå®‰å…¨â€çš„æ–¹æ³•ã€‚è¦æ­£ç¡®åœ°è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬åº”è¯¥æ‰§è¡Œè¯ä¹¦éªŒè¯ã€‚

`QUrl` è¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ŒURL æ ä¹Ÿæ›´æ–°ä¸ºè¯¥å€¼ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜å°†å…‰æ ‡ä½ç½®è®¾ç½®å›è¡Œé¦–ï¼Œä»¥é˜²æ­¢`QLineEdit` æ§ä»¶æ»šåŠ¨åˆ°è¡Œå°¾ã€‚

*Listing 273. app/browser.py*

```python
    def update_urlbar(self, q):
        
        if q.scheme() == "https":
            # å®‰å…¨æŒ‚é”å›¾æ ‡
            self.httpsicon.setPixmap(
                QPixmap(Paths.icon("lock-ssl.png"))
            )
            
        else:
            # ä¸å®‰å…¨çš„æŒ‚é”å›¾æ ‡
            self.httpsicon.setPixmap(
                QPixmap(Paths.icon("lock-nossl.png"))
            )
            
        self.urlbar.setText(q.toString())
        self.urlbar.setCursorPosition(0)
```

å¦å¤–ï¼Œå°†åº”ç”¨ç¨‹åºçª—å£çš„æ ‡é¢˜æ›´æ–°ä¸ºå½“å‰é¡µé¢çš„æ ‡é¢˜ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„ç»†èŠ‚ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `browser.page().title()` æ–¹æ³•è·å–æ­¤ä¿¡æ¯ï¼Œè¯¥æ–¹æ³•è¿”å›å½“å‰åŠ è½½çš„ç½‘é¡µä¸­ `<title></title>` æ ‡ç­¾çš„å†…å®¹ã€‚

*Listing 274. app/browser.py*

```python
    def update_title(self):
        title = self.browser.page().title()
        self.setWindowTitle("%s - Mozzarella Ashbadger" % title)
```

## æ–‡ä»¶æ“ä½œ

ä½¿ç”¨ `self.menuBar().addMenu(â€œ&Fileâ€)` å¯ä»¥åˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„â€œæ–‡ä»¶â€èœå•ï¼Œå°† F é”®åˆ†é…ä¸º Alt å¿«æ·é”®ï¼ˆä¸é€šå¸¸ä¸€æ ·ï¼‰ã€‚è·å¾—èœå•å¯¹è±¡åï¼Œæˆ‘ä»¬å¯ä»¥å°† `QAction` å¯¹è±¡åˆ†é…ç»™è¯¥å¯¹è±¡ä»¥åˆ›å»ºæ¡ç›®ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œåˆ›å»ºäº†ä¸¤ä¸ªåŸºæœ¬æ¡ç›®ï¼Œç”¨äºæ‰“å¼€å’Œä¿å­˜ HTML æ–‡ä»¶ï¼ˆæ¥è‡ªæœ¬åœ°ç£ç›˜ï¼‰ã€‚è¿™ä¸¤ä¸ªæ¡ç›®éƒ½éœ€è¦è‡ªå®šä¹‰æ§½å‡½æ•°ã€‚

*Listing 275. app/browser.py*

```python
        file_menu = self.menuBar().addMenu("&File")
    
        open_file_action = QAction(
            QIcon(Paths.icon("disk--arrow.png")),
            "Open file...",
            self,
        )
        open_file_action.setStatusTip("Open from file")
        open_file_action.triggered.connect(self.open_file)
        file_menu.addAction(open_file_action)
        
        save_file_action = QAction(
            QIcon(Paths.icon("disk--pencil.png")),
            "Save Page As...",
            self,
        )
        save_file_action.setStatusTip("Save current page to file")
        save_file_action.triggered.connect(self.save_file)
        file_menu.addAction(save_file_action)
```

æ‰“å¼€æ–‡ä»¶çš„æ§½å‡½æ•°ä½¿ç”¨å†…ç½®çš„ `QFileDialog.getOpenFileName()` å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ‰“å¼€å¯¹è¯æ¡†å¹¶è·å–ä¸€ä¸ªåç§°ã€‚æˆ‘ä»¬é»˜è®¤å°†åç§°é™åˆ¶ä¸ºä¸ `*.htm` æˆ– `*.html` åŒ¹é…çš„æ–‡ä»¶ã€‚

æˆ‘ä»¬ä½¿ç”¨æ ‡å‡†çš„ Python å‡½æ•°å°†æ–‡ä»¶è¯»å–åˆ°ä¸€ä¸ªåä¸º `html` çš„å˜é‡ä¸­ï¼Œç„¶åä½¿ç”¨`.setHtml()` å°† HTML å†…å®¹åŠ è½½åˆ°æµè§ˆå™¨ä¸­ã€‚

*Listing 276. app/browser.py*

```python
    def open_file(self):
        filename, _ = QFileDialog.getOpenFileName(
            self,
            "Open file",
            "",
            "Hypertext Markup Language (*.htm *.html);;"
            "All files (*.*)",
        )
        
        if filename:
            with open(filename, "r") as f:
                html = f.read()
                
            self.browser.setHtml(html)
            self.urlbar.setText(filename)
```

åŒæ ·åœ°ï¼Œä¸ºäº†ä¿å­˜å½“å‰é¡µé¢çš„ HTMLï¼Œæˆ‘ä»¬ä½¿ç”¨å†…ç½®çš„ `QFileDialog.getSaveFileName()` æ–¹æ³•è·å–æ–‡ä»¶åã€‚ä¸è¿‡è¿™æ¬¡æˆ‘ä»¬é€šè¿‡ `self.browser.page().toHtml()` è·å– HTMLã€‚

è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¸ä¼šç«‹å³æ”¶åˆ° HTMLã€‚ç›¸åï¼Œæˆ‘ä»¬å¿…é¡»ä¼ é€’ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†åœ¨ HTML å‡†å¤‡å°±ç»ªåæ¥æ”¶å®ƒã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„ `writer` å‡½æ•°ï¼Œå®ƒä½¿ç”¨æœ¬åœ°èŒƒå›´ä¸­çš„æ–‡ä»¶åæ¥å¤„ç†å®ƒã€‚

*Listing 277. app/browser.py*

```python
    def save_file(self):
        filename, _ = QFileDialog.getSaveFileName(
            self,
            "Save Page As",
            "",
            "Hypertext Markup Language (*.htm *html);;"
            "All files (*.*)",
        )
        
        if filename:
            # å®šä¹‰å›è°ƒæ–¹æ³•ä»¥å¤„ç†å†™å…¥æ“ä½œ.
            def writer(html):
                with open(filename, "w") as f:
                    f.write(html)
                    
            self.browser.page().toHtml(writer)
```

## æ‰“å°

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰çš„æ–¹æ³•åœ¨â€œæ–‡ä»¶â€èœå•ä¸­æ·»åŠ æ‰“å°é€‰é¡¹ã€‚åŒæ ·ï¼Œè¿™éœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰æ§½å‡½æ•°æ¥æ‰§è¡Œæ‰“å°æ“ä½œã€‚

*Listing 278. app/browser.py*

```python
        print_action = QAction(
            QIcon(Paths.icon("printer.png")), "Print...", self
        )
        print_action.setStatusTip("Print current page")
        print_action.triggered.connect(self.print_page)
        file_menu.addAction(print_action)
        
        # åˆ›å»ºæˆ‘ä»¬çš„ç³»ç»Ÿæ‰“å°æœºå®ä¾‹.
        self.printer = QPrinter()
```

Qt æä¾›äº†ä¸€ä¸ªåŸºäº `QPrinter` å¯¹è±¡çš„å®Œæ•´æ‰“å°æ¡†æ¶ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸Šç»˜åˆ¶è¦æ‰“å°çš„é¡µé¢ã€‚ä¸ºäº†å¯åŠ¨æ‰“å°è¿‡ç¨‹ï¼Œæˆ‘ä»¬é¦–å…ˆä¸ºç”¨æˆ·æ‰“å¼€ä¸€ä¸ª `QPrintDialog`ã€‚è¿™å…è®¸ç”¨æˆ·é€‰æ‹©ç›®æ ‡æ‰“å°æœºå¹¶é…ç½®æ‰“å°è®¾ç½®ã€‚

æˆ‘ä»¬åœ¨ `__init__`ä¸­åˆ›å»ºäº† `QPrinter` å¯¹è±¡ï¼Œå¹¶å°†å…¶å­˜å‚¨ä¸º `self.printer`ã€‚åœ¨æˆ‘ä»¬çš„æ‰“å°å¤„ç†æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†æ­¤æ‰“å°æœºä¼ é€’ç»™ `QPrintDialog`ï¼Œä»¥ä¾¿å…¶å¯ä»¥è¢«é…ç½®ã€‚å¦‚æœå¯¹è¯æ¡†è¢«æ¥å—ï¼Œæˆ‘ä»¬å°†ï¼ˆç°åœ¨å·²é…ç½®çš„ï¼‰æ‰“å°æœºå¯¹è±¡ä¼ é€’ç»™ `self.browser.page().print` ä»¥è§¦å‘æ‰“å°ã€‚

*Listing 279. app/browser.py*

```python
def print_page(self):
    page = self.browser.page()
    
    def callback(*args):
        pass
    
    dlg = QPrintDialog(self.printer)
    dlg.accepted.connect(callback)
    if dlg.exec() == QDialog.DialogCode.Accepted:
        page.print(self.printer, callback)
```

è¯·æ³¨æ„ï¼Œ`.print` æ–¹æ³•è¿˜æ¥å—ç¬¬äºŒä¸ªå‚æ•°â€”â€”ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šæ¥æ”¶æ‰“å°æ“ä½œçš„ç»“æœã€‚è¿™å…è®¸æ‚¨åœ¨æ‰“å°æ“ä½œå®Œæˆåæ˜¾ç¤ºä¸€æ¡é€šçŸ¥ï¼Œä½†åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯é™é»˜åœ°å¿½ç•¥äº†å›è°ƒå‡½æ•°ã€‚

## å¸®åŠ©

æœ€åï¼Œä¸ºäº†å®Œæˆæ ‡å‡†ç•Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªâ€œå¸®åŠ©â€èœå•ã€‚å®ƒä¸ä¹‹å‰ä¸€æ ·ï¼Œå®šä¹‰ä¸ºä¸¤ä¸ªè‡ªå®šä¹‰æ§½å‡½æ•°ï¼Œä¸€ä¸ªç”¨äºæ˜¾ç¤ºâ€œå…³äºâ€å¯¹è¯æ¡†ï¼Œå¦ä¸€ä¸ªç”¨äºåŠ è½½åŒ…å«æ›´å¤šä¿¡æ¯çš„â€œæµè§ˆå™¨é¡µé¢â€ã€‚

*Listing 280. app/browser.py*

```python
        help_menu = self.menuBar().addMenu("&Help")
        about_action = QAction(
            QIcon(Paths.icon("question.png")),
            "About Mozzarella Ashbadger",
            self,
        )
        about_action.setStatusTip(
            "Find out more about Mozzarella Ashbadger"
        ) # æˆ‘çœŸé¥¿äº†!
        about_action.triggered.connect(self.about)
        help_menu.addAction(about_action)
        navigate_mozzarella_action = QAction(
            QIcon(Paths.icon("lifebuoy.png")),
            "Mozzarella Ashbadger Homepage",
            self,
        )
        navigate_mozzarella_action.setStatusTip(
            "Go to Mozzarella Ashbadger Homepage"
        )
        navigate_mozzarella_action.triggered.connect(
            self.navigate_mozzarella
        )
        help_menu.addAction(navigate_mozzarella_action)
```

æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä½œä¸ºâ€œå¸®åŠ©â€èœå•ä¿¡å·çš„æ§½ã€‚ç¬¬ä¸€ä¸ª `navigate_mozzarella` æ‰“å¼€ä¸€ä¸ªé¡µé¢ï¼Œæä¾›æœ‰å…³æµè§ˆå™¨ï¼ˆæˆ–åœ¨æœ¬ä¹¦çš„æœ¬ä¾‹ä¸­ï¼‰çš„æ›´å¤šä¿¡æ¯ã€‚ç¬¬äºŒä¸ªåˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªè‡ªå®šä¹‰çš„ `QDialog` ç±» `AboutDialog`ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢è¿›è¡Œå®šä¹‰ã€‚

*Listing 281. app/browser.py*

```python
    def navigate_mozzarella(self):
        self.browser.setUrl(QUrl("https://www.pythonguis.com/"))
        
    def about(self):
        dlg = AboutDialog()
        dlg.exec()
```

å…³äºå¯¹è¯æ¡†çš„å®šä¹‰å¦‚ä¸‹ã€‚è¯¥ç»“æ„ä¸æœ¬ä¹¦å‰é¢ä»‹ç»çš„ç»“æ„ç›¸ä¼¼ï¼Œä½¿ç”¨ `QDialogButtonBox` å’Œç›¸å…³ä¿¡å·æ¥å¤„ç†ç”¨æˆ·è¾“å…¥ï¼Œå¹¶ä½¿ç”¨ä¸€ç³»åˆ— `QLabels` æ¥æ˜¾ç¤ºåº”ç”¨ç¨‹åºä¿¡æ¯å’Œå¾½æ ‡ã€‚

è¿™é‡Œå”¯ä¸€çš„æŠ€å·§æ˜¯å°†æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°å¸ƒå±€ä¸­ï¼Œç„¶ååœ¨å•ä¸ªå¾ªç¯ä¸­éå†å®ƒä»¬ï¼Œå°†å¯¹é½æ–¹å¼è®¾ç½®ä¸ºå±…ä¸­ã€‚è¿™æ ·å¯ä»¥é¿å…åœ¨å„ä¸ªéƒ¨åˆ†ä¸­é‡å¤è®¾ç½®ã€‚

*Listing 282. app/browser.py*

```python
class AboutDialog(QDialog):
    def __init__(self):
        super().__init__()
        
        QBtn = QDialogButtonBox.StandardButton.Ok # ä¸å–æ¶ˆ
        self.buttonBox = QDialogButtonBox(QBtn)
        self.buttonBox.accepted.connect(self.accept)
        self.buttonBox.rejected.connect(self.reject)
        
        layout = QVBoxLayout()
        
        title = QLabel("Mozzarella Ashbadger")
        font = title.font()
        font.setPointSize(20)
        title.setFont(font)
        
        layout.addWidget(title)
        
        logo = QLabel()
        logo.setPixmap(QPixmap(Paths.icon("ma-icon-128.png")))
        layout.addWidget(logo)
        
        layout.addWidget(QLabel("Version 23.35.211.233232"))
        layout.addWidget(QLabel("Copyright 2015 Mozzarella Inc."))
        
        for i in range(0, layout.count()):
            layout.itemAt(i).setAlignment(Qt.AlignmentFlag.AlignHCenter)
            
        layout.addWidget(self.buttonBox)
        
        self.setLayout(layout)
```

## æ ‡ç­¾å¼æµè§ˆ

![Figure270](Figure270.png)

> å›¾270ï¼šæ ‡ç­¾åŒ–çš„Mozzarella Ashbadger

## æºä»£ç 

æœ¬ä¹¦çš„ä¸‹è½½å†…å®¹ä¸­åŒ…å«äº†å¸¦æ ‡ç­¾é¡µæµè§ˆå™¨çš„å®Œæ•´æºä»£ç ã€‚æµè§ˆå™¨ä»£ç çš„æ–‡ä»¶åä¸º `browser_tabs.py`ã€‚

> ğŸš€ **è¿è¡Œå®ƒå§ï¼** åœ¨å¼€å§‹ç¼–å†™ä»£ç ä¹‹å‰ï¼Œè¯·å…ˆæ¢ç´¢æ ‡ç­¾åŒ–çš„ Mozzarella Ashbadger çš„ç•Œé¢å’ŒåŠŸèƒ½ã€‚

## åˆ›å»ºä¸€ä¸ª `QTabWidget`

ä½¿ç”¨ `QTabWidget` å¯ä»¥è½»æ¾åœ°ä¸ºæµè§ˆå™¨æ·»åŠ æ ‡ç­¾é¡µç•Œé¢ã€‚å®ƒä¸ºå¤šä¸ªæ§ä»¶ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º `QWebEngineView` æ§ä»¶ï¼‰æä¾›äº†ä¸€ä¸ªç®€å•çš„å®¹å™¨ï¼Œå¹¶å†…ç½®äº†ç”¨äºåœ¨æ§ä»¶ä¹‹é—´åˆ‡æ¢çš„æ ‡ç­¾é¡µç•Œé¢ã€‚

æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨çš„ä¸¤ä¸ªè‡ªå®šä¹‰è®¾ç½®æ˜¯ `.setDocumentMode(True)`ï¼Œå®ƒåœ¨ macOS ä¸Šæä¾›ä¸€ä¸ªç±»ä¼¼ Safari çš„ç•Œé¢ï¼Œä»¥åŠ `.setTabsClosable(True)`ï¼Œå®ƒå…è®¸ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºä¸­å…³é—­æ ‡ç­¾é¡µã€‚

æˆ‘ä»¬è¿˜å°† `QTabWidget` ä¿¡å· `tabBarDoubleClicked`ã€`currentChanged` å’Œ `tabCloseRequested `è¿æ¥åˆ°è‡ªå®šä¹‰æ§½æ–¹æ³•ï¼Œä»¥å¤„ç†è¿™äº›è¡Œä¸ºã€‚

*Listing 283. app/browser_tabs.py*

```python
        self.tabs = QTabWidget()
        self.tabs.setDocumentMode(True)
        self.tabs.tabBarDoubleClicked.connect(self.tab_open_doubleclick)
        self.tabs.currentChanged.connect(self.current_tab_changed)
        self.tabs.setTabsClosable(True)
        self.tabs.tabCloseRequested.connect(self.close_current_tab)
        
        self.setCentralWidget(self.tabs)
```

è¿™ä¸‰ç§æ§½æ–¹æ³•éƒ½æ¥å—ä¸€ä¸ª `i`ï¼ˆç´¢å¼•ï¼‰å‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡ç¤ºä¿¡å·æ¥è‡ªå“ªä¸ªé€‰é¡¹å¡ï¼ˆæŒ‰é¡ºåºï¼‰ã€‚

æˆ‘ä»¬åŒå‡»æ ‡ç­¾æ ä¸­çš„ç©ºç™½å¤„ï¼ˆç”±ç´¢å¼• `-1`è¡¨ç¤ºï¼‰æ¥è§¦å‘æ–°æ ‡ç­¾çš„åˆ›å»ºã€‚è¦åˆ é™¤æ ‡ç­¾ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ç´¢å¼•æ¥åˆ é™¤æ§ä»¶ï¼ˆä»¥åŠæ ‡ç­¾ï¼‰ï¼Œå¹¶è¿›è¡Œç®€å•çš„æ£€æŸ¥ä»¥ç¡®ä¿è‡³å°‘æœ‰ 2 ä¸ªæ ‡ç­¾â€”â€”å…³é—­æœ€åä¸€ä¸ªæ ‡ç­¾ä¼šå¯¼è‡´æ‚¨æ— æ³•æ‰“å¼€æ–°æ ‡ç­¾ã€‚

`current_tab_changed` å¤„ç†ç¨‹åºä½¿ç”¨ `self.tabs.currentWidget()` ç»“æ„æ¥è®¿é—®å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µçš„æ§ä»¶ï¼ˆ`QWebEngineView` æµè§ˆå™¨ï¼‰ï¼Œç„¶åä½¿ç”¨å®ƒæ¥è·å–å½“å‰é¡µé¢çš„ URLã€‚

*Listing 284. app/browser_tabs.py*

```python
    def tab_open_doubleclick(self, i):
        if i == -1: # Nç‚¹å‡»åæ²¡æœ‰é€‰é¡¹å¡
            self.add_new_tab()
   
    def current_tab_changed(self, i):
        qurl = self.tabs.currentWidget().url()
        self.update_urlbar(qurl, self.tabs.currentWidget())
        self.update_title(self.tabs.currentWidget())  
        
    def close_current_tab(self, i):
        if self.tabs.count() < 2:
            return

        self.tabs.removeTab(i)
```

*Listing 285. app/browser_tabs.py*

```python
    def add_new_tab(self, qurl=None, label="Blank"):
        
        if qurl is None:
            qurl = QUrl("")
           
        browser = QWebEngineView()
        browser.setUrl(qurl)
        i = self.tabs.addTab(browser, label)
        
        self.tabs.setCurrentIndex(i)
```

## ä¿¡å·å’Œæ§½çš„å˜åŒ–

è™½ç„¶ `QTabWidget` å’Œç›¸å…³ä¿¡å·çš„è®¾ç½®å¾ˆç®€å•ï¼Œä½†åœ¨æµè§ˆå™¨æ§½æ–¹æ³•ä¸­ï¼Œäº‹æƒ…å°±å˜å¾—ç¨å¾®å¤æ‚ä¸€äº›äº†ã€‚

ä»¥å‰æˆ‘ä»¬åªæœ‰ä¸€ä¸ª `QWebEngineView`ï¼Œç°åœ¨æœ‰å¤šä¸ªè§†å›¾ï¼Œæ¯ä¸ªè§†å›¾éƒ½æœ‰è‡ªå·±çš„ä¿¡å·ã€‚å¦‚æœå¤„ç†éšè—æ ‡ç­¾çš„ä¿¡å·ï¼Œäº‹æƒ…å°±ä¼šå˜å¾—ä¸€å›¢ç³Ÿã€‚ä¾‹å¦‚ï¼Œå¤„ç† `loadCompleted` ä¿¡å·çš„æ§½å¿…é¡»æ£€æŸ¥æºè§†å›¾æ˜¯å¦åœ¨å¯è§æ ‡ç­¾ä¸­ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘é€é™„åŠ æ•°æ®ä¿¡å·çš„æŠ€å·§æ¥å®ç°è¿™ä¸€ç‚¹ã€‚åœ¨æ ‡ç­¾å¼æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `lambda` æ ·å¼è¯­æ³•æ¥å®ç°è¿™ä¸€ç‚¹ã€‚

ä»¥ä¸‹æ˜¯åœ¨åˆ›å»ºæ–°çš„ `QWebEngineView` æ—¶ï¼Œåœ¨ `add_new_tab` å‡½æ•°ä¸­å®ç°æ­¤åŠŸèƒ½çš„ç¤ºä¾‹ï¼š

*Listing 286. app/browser_tabs.py*

```python
        # æ›´å¤æ‚äº†ï¼æˆ‘ä»¬åªå¸Œæœ›åœ¨URLæ¥è‡ªæ­£ç¡®æ ‡ç­¾é¡µæ—¶è¿›è¡Œæ›´æ–°ã€‚
        browser.urlChanged.connect(
            lambda qurl, browser=browser: self.update_urlbar(
                qurl, browser
            )
        )
        
        browser.loadFinished.connect(
            lambda _, i=i, browser=browser: self.tabs.setTabText(
                i, browser.page().title()
            )
        )
```

å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å°† `lambda` è®¾ç½®ä¸º `urlChanged` ä¿¡å·çš„æ§½ï¼Œæ¥å—è¯¥ä¿¡å·å‘é€çš„ `qurl` å‚æ•°ã€‚æˆ‘ä»¬å°†æœ€è¿‘åˆ›å»ºçš„ `browser` å¯¹è±¡æ·»åŠ åˆ° `update_urlbar` å‡½æ•°ä¸­ã€‚

ç»“æœæ˜¯ï¼Œæ¯å½“è¿™ä¸ª `urlChanged` ä¿¡å·è§¦å‘æ—¶ï¼Œ`update_urlbar` å°†åŒæ—¶æ”¶åˆ°æ–° URL å’Œå®ƒæ¥è‡ªçš„æµè§ˆå™¨ã€‚åœ¨æ§½æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥ä»¥ç¡®ä¿ä¿¡å·çš„æ¥æºä¸å½“å‰å¯è§çš„æµè§ˆå™¨ç›¸åŒ¹é…ï¼Œå¦‚æœä¸åŒ¹é…ï¼Œæˆ‘ä»¬åªéœ€ä¸¢å¼ƒè¯¥ä¿¡å·å³å¯ã€‚

*Listing 287. app/browser_tabs.py*

```python
    def update_urlbar(self, q, browser=None):
        if browser != self.tabs.currentWidget():
            # å¦‚æœè¯¥ä¿¡å·ä¸æ˜¯æ¥è‡ªå½“å‰é€‰é¡¹å¡ï¼Œåˆ™å¿½ç•¥å®ƒ
            return
        
        if q.scheme() == "https":
            # å®‰å…¨æŒ‚é”å›¾æ ‡
            self.httpsicon.setPixmap(
                QPixmap(Paths.icon("lock-ssl.png"))
            )
            
        else:
            # ä¸å®‰å…¨çš„æŒ‚é”å›¾æ ‡
            self.httpsicon.setPixmap(
                QPixmap(Paths.icon("lock-nossl.png"))
            )
           
        self.urlbar.setText(q.toString())
        self.urlbar.setCursorPosition(0)
```

## ç»§ç»­æ·±å…¥

ç°åœ¨æ‚¨å¯ä»¥æ¢ç´¢æµè§ˆå™¨æ ‡ç­¾é¡µç‰ˆæœ¬çš„å…¶ä½™æºä»£ç ï¼Œè¯·ç‰¹åˆ«æ³¨æ„ `self.tabs.currentWidget()` çš„ä½¿ç”¨ä»¥åŠé€šè¿‡ä¿¡å·ä¼ é€’é¢å¤–æ•°æ®ã€‚è¿™æ˜¯æ‚¨æ‰€å­¦çŸ¥è¯†çš„ä¸€ä¸ªå¾ˆå¥½çš„å®é™…åº”ç”¨æ¡ˆä¾‹ï¼Œæ‰€ä»¥å°è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹æ‚¨èƒ½å¦ä»¥æœ‰è¶£çš„æ–¹å¼æ‰“ç ´/æ”¹è¿›å®ƒã€‚

![tips](tips.png)

> æŒ‘æˆ˜
>
> æ‚¨å¯èƒ½æƒ³å°è¯•æ·»åŠ ä¸€äº›é¢å¤–åŠŸèƒ½â€”â€”
>
> - ä¹¦ç­¾ï¼ˆæˆ–æ”¶è—å¤¹ï¼‰â€”â€”æ‚¨å¯ä»¥å°†è¿™äº›å­˜å‚¨åœ¨ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨èœå•ä¸­æ˜¾ç¤ºå®ƒä»¬
> - ç½‘ç«™å›¾æ ‡ï¼ˆFaviconsï¼‰â€”â€”è¿™äº›å°å°çš„ç½‘ç«™å›¾æ ‡ï¼Œåœ¨æ ‡ç­¾é¡µä¸Šçœ‹èµ·æ¥ä¼šéå¸¸æ£’ã€‚
> - æŸ¥çœ‹æºä»£ç  â€”â€”æ·»åŠ ä¸€ä¸ªèœå•é€‰é¡¹ä»¥æŸ¥çœ‹é¡µé¢æºä»£ç ã€‚
> - åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€ â€”â€”æ·»åŠ å³é”®ç‚¹å‡»ä¸Šä¸‹æ–‡èœå•ï¼Œæˆ–é”®ç›˜å¿«æ·é”®ï¼Œä»¥åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“é“¾æ¥

